<mat-card>
  <mat-card-header class="mat-card-header mat-primary rounded-top">
    <mat-card-title>&nbsp;</mat-card-title>
  </mat-card-header>

  <div class="d-flex justify-content-center">
    <mat-card-content>
      <div class="shadow-lg h-100 scrolldiv" style="width: 800px">
        <div class="p-4 d-flex justify-content-between border-bottom">
          <fw-history-info [Parameter]="_historyParameter" class="pt-3"></fw-history-info>
          <h1 class="pt-3">Staff Atendance Settings</h1>
          <div class="pt-3">
            <button type="button" [disabled]="!hasChanges" (click)="saveSettings()" class="btn btn-primary d-flex justify-content-center align-items-center">
              Save
              <mat-icon class="p-0 m-0" style="font-size: 20px">save</mat-icon>
            </button>
          </div>
        </div>
        <form id="staffAttandance" class="scrolldiv-settings">
          @for (setting of settingsElements; track setting) {
            <div class="row p-3 border-bottom">
              <div class="col-9">
                <h3 class="mb-0">{{ setting.settingName }}</h3>
                @if (setting.desc.length > 0) {
                  <label class="text-secondary fst-italic">{{ setting.desc }}</label>
                }
              </div>
              <div class="col-3 py-3 pe-5">
                @switch (setting.type) {
                  @case ('boolean') {
                    <i class="fa-solid fa-2x cursor-pointer ps-1 float-end" [ngClass]="setting.value ? 'fa-toggle-on text-success' : 'fa-toggle-off text-danger'" matTooltipPosition="above" tabindex="0" (click)="setting.value = !setting.value; UpdateSettings(setting.entity, { target: { value: setting.value } })"></i>
                  }
                  @case ('number') {
                    <input type="number" class="ps-1 float-end m-0 form-control" min="0" max="366" value="{{ setting.value }}" (change)="UpdateSettings(setting.entity, $event)" />
                  }
                  @case ('dropdown') {
                    <select class="form-select" [name]="setting.entity" [(ngModel)]="setting.value" (change)="UpdateSettings(setting.entity, $event)">
                      @for (item of setting.list; track item) {
                        <option [value]="item.value">{{ item.text }}</option>
                      }
                    </select>
                  }
                  @case ('date') {
                    <input type="time" class="form-control" [value]="setting.value" (change)="UpdateSettings(setting.entity, $event)" />
                  }
                }
              </div>
            </div>
          }
        </form>
      </div>
    </mat-card-content>
  </div>
</mat-card>
